# Feature 1.2.1: Core Ontology Namespaces

## Problem Statement

The Knowledge Graph tooling needs RDF namespace definitions that match the ontology prefixes. Without proper namespace modules, building RDF statements requires manual IRI construction, which is error-prone and verbose.

## Solution Overview

Create namespace modules using RDF.ex's `RDF.Vocabulary.Namespace` for each ontology:
- `ElixirOntologies.NS.Core` - Core AST primitives
- `ElixirOntologies.NS.Structure` - Elixir-specific constructs
- `ElixirOntologies.NS.OTP` - OTP runtime patterns
- `ElixirOntologies.NS.Evolution` - Temporal/provenance

Also include standard namespaces (RDF, RDFS, OWL, XSD, PROV, BFO, IAO, DC, DCTerms) and provide a `prefix_map/0` helper for serialization.

## Technical Details

### Namespace IRIs

| Namespace | IRI |
|-----------|-----|
| Core | `https://w3id.org/elixir-code/core#` |
| Structure | `https://w3id.org/elixir-code/structure#` |
| OTP | `https://w3id.org/elixir-code/otp#` |
| Evolution | `https://w3id.org/elixir-code/evolution#` |

### File Location

`lib/elixir_ontologies/ns.ex` - Main namespace module with submodules

### RDF.ex Namespace Definition

Terms are loaded directly from the ontology TTL files using the `file:` option:

```elixir
defvocab Core,
  base_iri: "https://w3id.org/elixir-code/core#",
  file: "priv/ontologies/elixir-core.ttl",
  case_violations: :ignore
```

This approach ensures namespace terms stay in sync with ontology definitions.

## Implementation Plan

- [x] 1.2.1.1 Create `lib/elixir_ontologies/ns.ex` as central namespace registry
- [x] 1.2.1.2 Define `ElixirOntologies.NS.Core` for `https://w3id.org/elixir-code/core#`
- [x] 1.2.1.3 Define `ElixirOntologies.NS.Structure` for `https://w3id.org/elixir-code/structure#`
- [x] 1.2.1.4 Define `ElixirOntologies.NS.OTP` for `https://w3id.org/elixir-code/otp#`
- [x] 1.2.1.5 Define `ElixirOntologies.NS.Evolution` for `https://w3id.org/elixir-code/evolution#`
- [x] 1.2.1.6 Include standard namespaces: RDF, RDFS, OWL, XSD, PROV, BFO, IAO, DC, DCTerms
- [x] 1.2.1.7 Create helper function `prefix_map/0` returning all prefixes for serialization
- [x] 1.2.1.8 Write namespace tests (success: 60 tests pass)

## Success Criteria

- [x] All four ontology namespaces defined and accessible
- [x] Standard namespaces accessible via re-exports
- [x] `prefix_map/0` returns complete prefix mapping
- [x] Tests verify IRI generation works correctly

## Current Status

**Status**: Complete

### What Works
- `ElixirOntologies.NS` module with all namespaces
- `ElixirOntologies.NS.Core` - Core AST terms loaded from elixir-core.ttl
- `ElixirOntologies.NS.Structure` - Structure terms loaded from elixir-structure.ttl
- `ElixirOntologies.NS.OTP` - OTP terms loaded from elixir-otp.ttl
- `ElixirOntologies.NS.Evolution` - Evolution terms loaded from elixir-evolution.ttl
- Standard namespaces: PROV, BFO, IAO (with aliases), DC, DCTerms
- `prefix_map/0` returns complete prefix mapping for serialization
- `base_iri/1` helper for retrieving base IRIs by prefix
- 60 tests covering all functionality

### API Summary

```elixir
alias ElixirOntologies.NS.{Core, Structure, OTP, Evolution}

# Build RDF triples using namespace terms
# Uppercase terms (classes) are used without parentheses
# Lowercase terms (properties) are called as functions
RDF.Graph.new()
|> RDF.Graph.add({my_module_iri, RDF.type(), Structure.Module})
|> RDF.Graph.add({my_module_iri, Structure.moduleName(), "MyApp.Users"})

# Serialize with all prefixes
graph |> RDF.Turtle.write_string!(prefixes: ElixirOntologies.NS.prefix_map())
```

### How to Test
```bash
mix test test/elixir_ontologies/ns_test.exs
```
