# Feature 1.1.2: Configuration Structure

## Problem Statement

The Knowledge Graph tooling needs configurable options for controlling analysis behavior. Users need to specify:
- Base IRI for generated RDF resources
- Whether to include source text in the graph
- Whether to include git repository information
- Output format preferences

Without a centralized configuration, these options would be scattered or hardcoded.

## Solution Overview

Create an `ElixirOntologies.Config` module with:
- A `%Config{}` struct holding all configuration options
- `default/0` function returning sensible defaults
- `merge/2` function for combining user options with defaults
- Validation functions with clear error messages

## Technical Details

### Config Struct Fields

```elixir
%Config{
  base_iri: "https://example.org/code#",      # Base IRI for generated resources
  include_source_text: false,                  # Include actual source code
  include_git_info: true,                      # Include repository/commit info
  output_format: :turtle                       # Output format (:turtle, :ntriples, :jsonld)
}
```

### File Location

`lib/elixir_ontologies/config.ex`

### Default Values

| Field | Default | Rationale |
|-------|---------|-----------|
| `base_iri` | `"https://example.org/code#"` | Safe default, user should customize |
| `include_source_text` | `false` | Source text can be large, opt-in |
| `include_git_info` | `true` | Useful for provenance, usually wanted |
| `output_format` | `:turtle` | Human-readable, good for debugging |

## Implementation Plan

- [x] 1.1.2.1 Create `lib/elixir_ontologies/config.ex` with configuration schema
- [x] 1.1.2.2 Define `%Config{base_iri, include_source_text, include_git_info, output_format}` struct
- [x] 1.1.2.3 Implement `Config.default/0` returning sensible defaults
- [x] 1.1.2.4 Implement `Config.merge/2` for combining user options with defaults
- [x] 1.1.2.5 Add config validation with clear error messages
- [x] 1.1.2.6 Write config tests (success: 14 tests pass covering all options)

## Success Criteria

- [x] Config struct can be created with all fields
- [x] `Config.default/0` returns valid configuration
- [x] `Config.merge/2` correctly overrides defaults with user options
- [x] Invalid configurations are rejected with clear error messages
- [x] 14 tests pass covering all functionality

## Current Status

**Status**: Complete

### What Works
- `ElixirOntologies.Config` module with full functionality
- `Config.default/0` returns sensible defaults
- `Config.merge/2` combines options with defaults
- `Config.validate/1` and `Config.validate!/1` validate configurations
- `Config.new/1` convenience function for creating validated configs
- 14 tests passing

### API Summary

```elixir
# Create default config
config = ElixirOntologies.Config.default()

# Merge custom options
config = ElixirOntologies.Config.merge(config, base_iri: "https://myproject.org/")

# Create and validate in one step
config = ElixirOntologies.Config.new(base_iri: "https://myproject.org/")

# Validate existing config
{:ok, config} = ElixirOntologies.Config.validate(config)
config = ElixirOntologies.Config.validate!(config)
```

### How to Test
```bash
mix test test/elixir_ontologies/config_test.exs
```
