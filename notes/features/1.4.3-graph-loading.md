# Feature 1.4.3: Graph Loading

## Problem Statement

The Graph module needs loading capabilities to import RDF graphs from Turtle files and strings. This enables:
- Loading previously saved knowledge graphs
- Importing graphs from external RDF tools
- Reading ontology data for processing

## Solution Overview

Extend the `ElixirOntologies.Graph` module with loading functions that:
1. Load graphs from Turtle files
2. Parse Turtle strings into graphs
3. Provide clear error messages for parse failures
4. Support multiple formats (Turtle by default, extensible)

## Technical Details

### File Location
`lib/elixir_ontologies/graph.ex` (extend existing module)

### Dependencies
- `RDF.Turtle` from rdf library for Turtle parsing
- `ElixirOntologies.NS.prefix_map/0` for prefix resolution

### API Design

| Function | Description |
|----------|-------------|
| `load/1` | Load graph from file path (auto-detect format) |
| `load/2` | Load with options (format, base_iri) |
| `load!/1`, `load!/2` | Bang versions that raise on error |
| `from_turtle/1` | Parse Turtle string into graph |
| `from_turtle!/1` | Bang version that raises on error |

### Supported Formats
- `:turtle` - Turtle format (default, detected by .ttl extension)
- Future: `:ntriples`, `:json_ld`, `:rdf_xml`

### Error Handling
- File not found: `{:error, :enoent}`
- Parse errors: `{:error, {:parse_error, details}}`
- Unsupported format: `{:error, {:unsupported_format, format}}`

## Implementation Plan

- [x] 1.4.3.1 Implement `Graph.load/1` - load from file path
- [x] 1.4.3.2 Implement `Graph.load/2` - with options (format, base_iri)
- [x] 1.4.3.3 Implement `Graph.from_turtle/1` - parse Turtle string
- [x] 1.4.3.4 Handle parse errors with clear messages
- [x] 1.4.3.5 Write loading tests (17 new tests)

## Success Criteria

- [x] All functions implemented with proper typespecs
- [x] Comprehensive documentation with examples
- [x] 8+ tests covering all loading operations (17 tests)
- [x] Parse errors return clear, actionable messages
- [x] Round-trip: save â†’ load produces equivalent graph

## Current Status

**Status**: Complete

### What Works
- Feature branch created: `feature/1.4.3-graph-loading`
- Planning document created
- All loading functions implemented
- 17 new tests passing (plus 1 doctest)
- Clear error messages for all failure cases
- Format auto-detection from file extension

### Additional Features Implemented
- `load!/1`, `load!/2` - Bang versions that raise on error
- `from_turtle!/1` - Bang version for string parsing
- Format auto-detection (.ttl, .turtle)
- Clear error messages for parse errors, file not found, unsupported formats
