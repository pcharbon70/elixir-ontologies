# Feature: 5.2.1 Behaviour Definition Extractor

## Problem Statement

Need to extract behaviour definitions from Elixir modules to support the ontology's representation of OTP patterns. Behaviours define callback contracts that implementing modules must fulfill.

## Solution Overview

Create a `Behaviour` extractor module that:
1. Detects modules defining behaviours via @callback
2. Extracts @callback specs as required callbacks
3. Extracts @macrocallback for macro callbacks
4. Detects @optional_callbacks to mark optional ones
5. Creates CallbackSpec structs for type signatures

## AST Structure Analysis

```elixir
# @callback creates this AST:
{:@, meta, [{:callback, _, [spec_ast]}]}

# spec_ast is a typespec:
{:"::", meta, [function_head, return_type]}

# @macrocallback is similar:
{:@, meta, [{:macrocallback, _, [spec_ast]}]}

# @optional_callbacks:
{:@, meta, [{:optional_callbacks, _, [[name: arity, ...]]}]}
```

## Technical Details

### Files to Create
- `lib/elixir_ontologies/extractors/behaviour.ex` - Main extractor module
- `test/elixir_ontologies/extractors/behaviour_test.exs` - Tests

### Result Struct Fields

**Behaviour:**
- `:callbacks` - List of callback definitions
- `:macrocallbacks` - List of macro callback definitions
- `:optional_callbacks` - List of {name, arity} tuples
- `:doc` - @moduledoc content
- `:location` - Source location
- `:metadata` - Additional information

**Callback:**
- `:name` - Callback function name
- `:arity` - Number of parameters
- `:spec` - Full typespec AST
- `:return_type` - Return type AST
- `:parameters` - Parameter type specs
- `:is_optional` - Whether in @optional_callbacks
- `:doc` - @doc content
- `:location` - Source location

## Implementation Plan

- [x] Create feature branch
- [x] Create planning document
- [x] Create behaviour.ex with struct definitions
- [x] Implement callback extraction from module body
- [x] Implement @optional_callbacks detection
- [x] Implement @macrocallback extraction
- [x] Add utility functions
- [x] Write comprehensive tests
- [x] Run tests and dialyzer
- [x] Write summary document

## Success Criteria

- [x] Correctly extracts @callback definitions
- [x] Correctly extracts @macrocallback definitions
- [x] Detects @optional_callbacks
- [x] Extracts callback type signatures
- [x] All tests pass (58 tests: 20 doctests + 38 unit tests)
- [x] Dialyzer passes with no errors

## Status

- **Current Step:** Complete
- **Branch:** `feature/5.2.1-behaviour-definition-extractor`
