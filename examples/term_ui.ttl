@prefix : <https://w3id.org/elixir-code/instances/term_ui#> .
@prefix core: <https://w3id.org/elixir-code/core#> .
@prefix struct: <https://w3id.org/elixir-code/structure#> .
@prefix otp: <https://w3id.org/elixir-code/otp#> .
@prefix evo: <https://w3id.org/elixir-code/evolution#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .

# =============================================================================
# Codebase Metadata
# =============================================================================

:term_ui_codebase a evo:CodebaseSnapshot ;
    rdfs:label "TermUI Codebase"@en ;
    rdfs:comment "Direct-mode Terminal UI framework for Elixir implementing The Elm Architecture"@en ;
    evo:versionString "0.2.0" ;
    dc:description "A production-grade terminal UI framework with Elm-inspired architecture, GenServer dispatch loop, ETS-backed registries, and pluggable terminal backends."@en .

# =============================================================================
# Behaviours
# =============================================================================

:ElmBehaviour a struct:Behaviour ;
    rdfs:label "Elm Behaviour"@en ;
    rdfs:comment "Behaviour defining The Elm Architecture pattern for terminal applications"@en ;
    struct:definesCallback :elm_init_callback,
                           :elm_update_callback,
                           :elm_view_callback,
                           :elm_event_to_msg_callback .

:elm_init_callback a struct:RequiredCallback ;
    struct:functionName "init" ;
    struct:arity 1 .

:elm_update_callback a struct:RequiredCallback ;
    struct:functionName "update" ;
    struct:arity 2 .

:elm_view_callback a struct:RequiredCallback ;
    struct:functionName "view" ;
    struct:arity 1 .

:elm_event_to_msg_callback a struct:RequiredCallback ;
    struct:functionName "event_to_msg" ;
    struct:arity 2 .

:ComponentBehaviour a struct:Behaviour ;
    rdfs:label "Component Behaviour"@en ;
    rdfs:comment "Base behaviour for rendering components"@en ;
    struct:definesCallback :component_render_callback,
                           :component_describe_callback,
                           :component_default_props_callback .

:component_render_callback a struct:RequiredCallback ;
    struct:functionName "render" ;
    struct:arity 2 .

:component_describe_callback a struct:OptionalCallback ;
    struct:functionName "describe" ;
    struct:arity 0 .

:component_default_props_callback a struct:OptionalCallback ;
    struct:functionName "default_props" ;
    struct:arity 0 .

:StatefulComponentBehaviour a struct:Behaviour ;
    rdfs:label "Stateful Component Behaviour"@en ;
    rdfs:comment "Extended behaviour for stateful interactive components"@en ;
    struct:definesCallback :stateful_init_callback,
                           :stateful_handle_event_callback,
                           :stateful_render_callback,
                           :stateful_terminate_callback,
                           :stateful_handle_info_callback,
                           :stateful_handle_call_callback .

:stateful_init_callback a struct:RequiredCallback ;
    struct:functionName "init" ;
    struct:arity 1 .

:stateful_handle_event_callback a struct:RequiredCallback ;
    struct:functionName "handle_event" ;
    struct:arity 2 .

:stateful_render_callback a struct:RequiredCallback ;
    struct:functionName "render" ;
    struct:arity 2 .

:stateful_terminate_callback a struct:OptionalCallback ;
    struct:functionName "terminate" ;
    struct:arity 2 .

:stateful_handle_info_callback a struct:OptionalCallback ;
    struct:functionName "handle_info" ;
    struct:arity 2 .

:stateful_handle_call_callback a struct:OptionalCallback ;
    struct:functionName "handle_call" ;
    struct:arity 3 .

# =============================================================================
# Core Infrastructure Modules
# =============================================================================

# TermUI (Entry Point)
:TermUI a struct:Module ;
    rdfs:label "TermUI"@en ;
    rdfs:comment "Entry point module for the terminal UI framework"@en ;
    struct:moduleName "TermUI" ;
    struct:containsFunction :termui_init,
                            :termui_shutdown,
                            :termui_size .

:termui_init a struct:PublicFunction ;
    struct:belongsTo :TermUI ;
    struct:functionName "init" ;
    struct:arity 0 .

:termui_shutdown a struct:PublicFunction ;
    struct:belongsTo :TermUI ;
    struct:functionName "shutdown" ;
    struct:arity 0 .

:termui_size a struct:PublicFunction ;
    struct:belongsTo :TermUI ;
    struct:functionName "size" ;
    struct:arity 0 .

# TermUI.Runtime (GenServer - Central Dispatch Loop)
:TermUI_Runtime a struct:Module ;
    rdfs:label "TermUI.Runtime"@en ;
    rdfs:comment "Central dispatch loop for Elm Architecture - manages event routing, message queuing, rendering, command execution"@en ;
    struct:moduleName "TermUI.Runtime" ;
    struct:implementsBehaviour otp:GenServer ;
    struct:containsFunction :runtime_start_link,
                            :runtime_send_event,
                            :runtime_send_message,
                            :runtime_command_result,
                            :runtime_shutdown,
                            :runtime_get_state,
                            :runtime_sync,
                            :runtime_force_render,
                            :runtime_run,
                            :runtime_init,
                            :runtime_handle_cast,
                            :runtime_handle_call,
                            :runtime_handle_info,
                            :runtime_terminate .

:runtime_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "start_link" ;
    struct:arity 1 .

:runtime_send_event a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "send_event" ;
    struct:arity 2 .

:runtime_send_message a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "send_message" ;
    struct:arity 3 .

:runtime_command_result a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "command_result" ;
    struct:arity 4 .

:runtime_shutdown a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "shutdown" ;
    struct:arity 1 .

:runtime_get_state a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "get_state" ;
    struct:arity 1 .

:runtime_sync a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "sync" ;
    struct:arity 2 .

:runtime_force_render a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "force_render" ;
    struct:arity 1 .

:runtime_run a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "run" ;
    struct:arity 1 .

:runtime_init a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "init" ;
    struct:arity 1 ;
    struct:implementsCallback :genserver_init .

:runtime_handle_cast a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "handle_cast" ;
    struct:arity 2 ;
    struct:implementsCallback :genserver_handle_cast .

:runtime_handle_call a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "handle_call" ;
    struct:arity 3 ;
    struct:implementsCallback :genserver_handle_call .

:runtime_handle_info a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "handle_info" ;
    struct:arity 2 ;
    struct:implementsCallback :genserver_handle_info .

:runtime_terminate a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime ;
    struct:functionName "terminate" ;
    struct:arity 2 ;
    struct:implementsCallback :genserver_terminate .

:TermUI_Runtime_GenServer a otp:GenServerImplementation ;
    rdfs:label "TermUI.Runtime GenServer"@en ;
    otp:hasGenServerCallback :runtime_init,
                              :runtime_handle_cast,
                              :runtime_handle_call,
                              :runtime_handle_info,
                              :runtime_terminate .

# TermUI.Terminal (GenServer - Terminal Control)
:TermUI_Terminal a struct:Module ;
    rdfs:label "TermUI.Terminal"@en ;
    rdfs:comment "Terminal lifecycle and raw mode management with OTP 28 native support and stty fallback"@en ;
    struct:moduleName "TermUI.Terminal" ;
    struct:implementsBehaviour otp:GenServer ;
    struct:containsFunction :terminal_start_link,
                            :terminal_enable_raw_mode,
                            :terminal_disable_raw_mode,
                            :terminal_enter_alternate_screen,
                            :terminal_leave_alternate_screen,
                            :terminal_hide_cursor,
                            :terminal_show_cursor,
                            :terminal_get_terminal_size,
                            :terminal_register_resize_callback,
                            :terminal_unregister_resize_callback,
                            :terminal_restore,
                            :terminal_raw_mode,
                            :terminal_get_state,
                            :terminal_enable_mouse_tracking,
                            :terminal_disable_mouse_tracking .

:terminal_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "start_link" ;
    struct:arity 1 .

:terminal_enable_raw_mode a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "enable_raw_mode" ;
    struct:arity 0 .

:terminal_disable_raw_mode a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "disable_raw_mode" ;
    struct:arity 0 .

:terminal_enter_alternate_screen a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "enter_alternate_screen" ;
    struct:arity 0 .

:terminal_leave_alternate_screen a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "leave_alternate_screen" ;
    struct:arity 0 .

:terminal_hide_cursor a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "hide_cursor" ;
    struct:arity 0 .

:terminal_show_cursor a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "show_cursor" ;
    struct:arity 0 .

:terminal_get_terminal_size a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "get_terminal_size" ;
    struct:arity 0 .

:terminal_register_resize_callback a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "register_resize_callback" ;
    struct:arity 1 .

:terminal_unregister_resize_callback a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "unregister_resize_callback" ;
    struct:arity 1 .

:terminal_restore a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "restore" ;
    struct:arity 0 .

:terminal_raw_mode a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "raw_mode?" ;
    struct:arity 0 .

:terminal_get_state a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "get_state" ;
    struct:arity 0 .

:terminal_enable_mouse_tracking a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "enable_mouse_tracking" ;
    struct:arity 1 .

:terminal_disable_mouse_tracking a struct:PublicFunction ;
    struct:belongsTo :TermUI_Terminal ;
    struct:functionName "disable_mouse_tracking" ;
    struct:arity 0 .

:TermUI_Terminal_GenServer a otp:GenServerImplementation ;
    rdfs:label "TermUI.Terminal GenServer"@en .

# TermUI.Elm (Behaviour Module)
:TermUI_Elm a struct:Module ;
    rdfs:label "TermUI.Elm"@en ;
    rdfs:comment "Behaviour defining Elm Architecture pattern with callbacks for init, update, view, and event_to_msg"@en ;
    struct:moduleName "TermUI.Elm" ;
    struct:definesBehaviour :ElmBehaviour ;
    struct:containsFunction :elm_normalize_update_result,
                            :elm_validate_update_purity .

:elm_normalize_update_result a struct:PublicFunction ;
    struct:belongsTo :TermUI_Elm ;
    struct:functionName "normalize_update_result" ;
    struct:arity 2 .

:elm_validate_update_purity a struct:PublicFunction ;
    struct:belongsTo :TermUI_Elm ;
    struct:functionName "validate_update_purity" ;
    struct:arity 1 .

# TermUI.Elm.Helpers (Macros)
:TermUI_Elm_Helpers a struct:Module ;
    rdfs:label "TermUI.Elm.Helpers"@en ;
    rdfs:comment "Helper macros for building render trees"@en ;
    struct:moduleName "TermUI.Elm.Helpers" ;
    struct:containsMacro :elm_helpers_text,
                         :elm_helpers_styled,
                         :elm_helpers_box,
                         :elm_helpers_row,
                         :elm_helpers_column,
                         :elm_helpers_fragment .

:elm_helpers_text a struct:PublicMacro ;
    struct:macroName "text" ;
    struct:macroArity 1 .

:elm_helpers_styled a struct:PublicMacro ;
    struct:macroName "styled" ;
    struct:macroArity 2 .

:elm_helpers_box a struct:PublicMacro ;
    struct:macroName "box" ;
    struct:macroArity 2 .

:elm_helpers_row a struct:PublicMacro ;
    struct:macroName "row" ;
    struct:macroArity 2 .

:elm_helpers_column a struct:PublicMacro ;
    struct:macroName "column" ;
    struct:macroArity 2 .

:elm_helpers_fragment a struct:PublicMacro ;
    struct:macroName "fragment" ;
    struct:macroArity 1 .

# TermUI.Component (Behaviour Module)
:TermUI_Component a struct:Module ;
    rdfs:label "TermUI.Component"@en ;
    rdfs:comment "Base behaviour for rendering components with render/2 callback"@en ;
    struct:moduleName "TermUI.Component" ;
    struct:definesBehaviour :ComponentBehaviour ;
    struct:containsFunction :component_merge_props .

:component_merge_props a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component ;
    struct:functionName "merge_props" ;
    struct:arity 1 .

# TermUI.StatefulComponent (Behaviour Module)
:TermUI_StatefulComponent a struct:Module ;
    rdfs:label "TermUI.StatefulComponent"@en ;
    rdfs:comment "Extended behaviour for stateful interactive components with lifecycle callbacks"@en ;
    struct:moduleName "TermUI.StatefulComponent" ;
    struct:definesBehaviour :StatefulComponentBehaviour .

# TermUI.ComponentServer (GenServer)
:TermUI_ComponentServer a struct:Module ;
    rdfs:label "TermUI.ComponentServer"@en ;
    rdfs:comment "Manages component lifecycle: init, mount, update, unmount"@en ;
    struct:moduleName "TermUI.ComponentServer" ;
    struct:implementsBehaviour otp:GenServer ;
    struct:containsFunction :componentserver_start_link,
                            :componentserver_mount,
                            :componentserver_update_props,
                            :componentserver_unmount,
                            :componentserver_get_state,
                            :componentserver_get_props,
                            :componentserver_get_lifecycle .

:componentserver_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "start_link" ;
    struct:arity 3 .

:componentserver_mount a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "mount" ;
    struct:arity 1 .

:componentserver_update_props a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "update_props" ;
    struct:arity 2 .

:componentserver_unmount a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "unmount" ;
    struct:arity 1 .

:componentserver_get_state a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "get_state" ;
    struct:arity 1 .

:componentserver_get_props a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "get_props" ;
    struct:arity 1 .

:componentserver_get_lifecycle a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentServer ;
    struct:functionName "get_lifecycle" ;
    struct:arity 1 .

# TermUI.ComponentSupervisor (DynamicSupervisor)
:TermUI_ComponentSupervisor a struct:Module ;
    rdfs:label "TermUI.ComponentSupervisor"@en ;
    rdfs:comment "Dynamic supervisor for component processes"@en ;
    struct:moduleName "TermUI.ComponentSupervisor" ;
    struct:implementsBehaviour otp:DynamicSupervisor ;
    struct:containsFunction :componentsupervisor_start_link,
                            :componentsupervisor_start_component,
                            :componentsupervisor_stop_component,
                            :componentsupervisor_count_children,
                            :componentsupervisor_which_children,
                            :componentsupervisor_get_tree,
                            :componentsupervisor_get_component_info,
                            :componentsupervisor_format_tree .

:componentsupervisor_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "start_link" ;
    struct:arity 1 .

:componentsupervisor_start_component a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "start_component" ;
    struct:arity 3 .

:componentsupervisor_stop_component a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "stop_component" ;
    struct:arity 2 .

:componentsupervisor_count_children a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "count_children" ;
    struct:arity 0 .

:componentsupervisor_which_children a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "which_children" ;
    struct:arity 0 .

:componentsupervisor_get_tree a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "get_tree" ;
    struct:arity 0 .

:componentsupervisor_get_component_info a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "get_component_info" ;
    struct:arity 1 .

:componentsupervisor_format_tree a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentSupervisor ;
    struct:functionName "format_tree" ;
    struct:arity 0 .

:TermUI_ComponentSupervisor_DynSup a otp:DynamicSupervisor ;
    rdfs:label "TermUI.ComponentSupervisor DynamicSupervisor"@en ;
    otp:hasStrategy otp:OneForOne .

# TermUI.ComponentRegistry (GenServer with ETS)
:TermUI_ComponentRegistry a struct:Module ;
    rdfs:label "TermUI.ComponentRegistry"@en ;
    rdfs:comment "ETS-based component lookup by id and pid using 3 ETS tables"@en ;
    struct:moduleName "TermUI.ComponentRegistry" ;
    struct:implementsBehaviour otp:GenServer ;
    struct:containsFunction :componentregistry_start_link,
                            :componentregistry_register,
                            :componentregistry_unregister,
                            :componentregistry_lookup,
                            :componentregistry_lookup_id,
                            :componentregistry_get_info,
                            :componentregistry_list_all,
                            :componentregistry_count,
                            :componentregistry_registered,
                            :componentregistry_clear,
                            :componentregistry_set_parent,
                            :componentregistry_get_parent,
                            :componentregistry_get_children .

:componentregistry_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "start_link" ;
    struct:arity 1 .

:componentregistry_register a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "register" ;
    struct:arity 3 .

:componentregistry_unregister a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "unregister" ;
    struct:arity 1 .

:componentregistry_lookup a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "lookup" ;
    struct:arity 1 .

:componentregistry_lookup_id a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "lookup_id" ;
    struct:arity 1 .

:componentregistry_get_info a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "get_info" ;
    struct:arity 1 .

:componentregistry_list_all a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "list_all" ;
    struct:arity 0 .

:componentregistry_count a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "count" ;
    struct:arity 0 .

:componentregistry_registered a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "registered?" ;
    struct:arity 1 .

:componentregistry_clear a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "clear" ;
    struct:arity 0 .

:componentregistry_set_parent a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "set_parent" ;
    struct:arity 2 .

:componentregistry_get_parent a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "get_parent" ;
    struct:arity 1 .

:componentregistry_get_children a struct:PublicFunction ;
    struct:belongsTo :TermUI_ComponentRegistry ;
    struct:functionName "get_children" ;
    struct:arity 1 .

:ComponentRegistry_MainTable a otp:ETSTable ;
    rdfs:label "ComponentRegistry Main Table"@en ;
    otp:hasTableType otp:SetTable ;
    otp:hasAccessType otp:ProtectedTable .

:ComponentRegistry_PIDIndex a otp:ETSTable ;
    rdfs:label "ComponentRegistry PID Index"@en ;
    otp:hasTableType otp:SetTable ;
    otp:hasAccessType otp:ProtectedTable .

:ComponentRegistry_ParentTable a otp:ETSTable ;
    rdfs:label "ComponentRegistry Parent Table"@en ;
    otp:hasTableType otp:SetTable ;
    otp:hasAccessType otp:ProtectedTable .

# =============================================================================
# Event System Modules
# =============================================================================

:TermUI_Event a struct:Module ;
    rdfs:label "TermUI.Event"@en ;
    rdfs:comment "Event type definitions as union type"@en ;
    struct:moduleName "TermUI.Event" ;
    struct:containsFunction :event_new .

:event_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Event ;
    struct:functionName "new" ;
    struct:arity 1 .

# Event Structs
:TermUI_Event_Key a struct:Module ;
    rdfs:label "TermUI.Event.Key"@en ;
    struct:moduleName "TermUI.Event.Key" ;
    struct:containsStruct :Event_Key_Struct .

:Event_Key_Struct a struct:Struct ;
    rdfs:label "Key Event Struct"@en ;
    struct:hasField :event_key_key,
                    :event_key_char,
                    :event_key_modifiers,
                    :event_key_timestamp .

:event_key_key a struct:StructField ;
    struct:fieldName "key" .

:event_key_char a struct:StructField ;
    struct:fieldName "char" .

:event_key_modifiers a struct:StructField ;
    struct:fieldName "modifiers" .

:event_key_timestamp a struct:StructField ;
    struct:fieldName "timestamp" .

:TermUI_Event_Mouse a struct:Module ;
    rdfs:label "TermUI.Event.Mouse"@en ;
    struct:moduleName "TermUI.Event.Mouse" ;
    struct:containsStruct :Event_Mouse_Struct .

:Event_Mouse_Struct a struct:Struct ;
    rdfs:label "Mouse Event Struct"@en ;
    struct:hasField :event_mouse_action,
                    :event_mouse_button,
                    :event_mouse_x,
                    :event_mouse_y,
                    :event_mouse_modifiers,
                    :event_mouse_timestamp .

:event_mouse_action a struct:StructField ;
    struct:fieldName "action" .

:event_mouse_button a struct:StructField ;
    struct:fieldName "button" .

:event_mouse_x a struct:StructField ;
    struct:fieldName "x" .

:event_mouse_y a struct:StructField ;
    struct:fieldName "y" .

:event_mouse_modifiers a struct:StructField ;
    struct:fieldName "modifiers" .

:event_mouse_timestamp a struct:StructField ;
    struct:fieldName "timestamp" .

:TermUI_Event_Focus a struct:Module ;
    rdfs:label "TermUI.Event.Focus"@en ;
    struct:moduleName "TermUI.Event.Focus" ;
    struct:containsStruct :Event_Focus_Struct .

:Event_Focus_Struct a struct:Struct ;
    rdfs:label "Focus Event Struct"@en ;
    struct:hasField :event_focus_action,
                    :event_focus_timestamp .

:event_focus_action a struct:StructField ;
    struct:fieldName "action" .

:event_focus_timestamp a struct:StructField ;
    struct:fieldName "timestamp" .

:TermUI_EventRouter a struct:Module ;
    rdfs:label "TermUI.EventRouter"@en ;
    rdfs:comment "Routes events to appropriate components based on focus and position"@en ;
    struct:moduleName "TermUI.EventRouter" .

:TermUI_Event_Propagation a struct:Module ;
    rdfs:label "TermUI.Event.Propagation"@en ;
    rdfs:comment "Handles event bubbling through component hierarchy"@en ;
    struct:moduleName "TermUI.Event.Propagation" .

:TermUI_Event_Transformation a struct:Module ;
    rdfs:label "TermUI.Event.Transformation"@en ;
    rdfs:comment "Transforms raw terminal events into semantic Event structs"@en ;
    struct:moduleName "TermUI.Event.Transformation" .

# =============================================================================
# Message & Command Modules
# =============================================================================

:TermUI_Message a struct:Module ;
    rdfs:label "TermUI.Message"@en ;
    rdfs:comment "Message type conventions and helpers"@en ;
    struct:moduleName "TermUI.Message" ;
    struct:containsFunction :message_valid,
                            :message_name,
                            :message_payload,
                            :message_wrap,
                            :message_atom,
                            :message_tuple,
                            :message_struct,
                            :message_match .

:message_valid a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "valid?" ;
    struct:arity 1 .

:message_name a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "name" ;
    struct:arity 1 .

:message_payload a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "payload" ;
    struct:arity 1 .

:message_wrap a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "wrap" ;
    struct:arity 1 .

:message_atom a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "atom?" ;
    struct:arity 1 .

:message_tuple a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "tuple?" ;
    struct:arity 1 .

:message_struct a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "struct?" ;
    struct:arity 1 .

:message_match a struct:PublicFunction ;
    struct:belongsTo :TermUI_Message ;
    struct:functionName "match?" ;
    struct:arity 2 .

:TermUI_Command a struct:Module ;
    rdfs:label "TermUI.Command"@en ;
    rdfs:comment "Command struct for side effects in Elm Architecture"@en ;
    struct:moduleName "TermUI.Command" ;
    struct:containsStruct :Command_Struct ;
    struct:containsFunction :command_timer,
                            :command_interval,
                            :command_file_read,
                            :command_send_after,
                            :command_quit,
                            :command_none,
                            :command_with_timeout,
                            :command_validate,
                            :command_valid,
                            :command_assign_id .

:Command_Struct a struct:Struct ;
    rdfs:label "Command Struct"@en ;
    struct:hasField :command_id,
                    :command_type,
                    :command_payload,
                    :command_on_result,
                    :command_timeout .

:command_id a struct:StructField ;
    struct:fieldName "id" .

:command_type a struct:StructField ;
    struct:fieldName "type" .

:command_payload a struct:StructField ;
    struct:fieldName "payload" .

:command_on_result a struct:StructField ;
    struct:fieldName "on_result" .

:command_timeout a struct:StructField ;
    struct:fieldName "timeout" .

:command_timer a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "timer" ;
    struct:arity 2 .

:command_interval a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "interval" ;
    struct:arity 2 .

:command_file_read a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "file_read" ;
    struct:arity 2 .

:command_send_after a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "send_after" ;
    struct:arity 3 .

:command_quit a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "quit" ;
    struct:arity 1 .

:command_none a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "none" ;
    struct:arity 0 .

:command_with_timeout a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "with_timeout" ;
    struct:arity 2 .

:command_validate a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "validate" ;
    struct:arity 1 .

:command_valid a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "valid?" ;
    struct:arity 1 .

:command_assign_id a struct:PublicFunction ;
    struct:belongsTo :TermUI_Command ;
    struct:functionName "assign_id" ;
    struct:arity 1 .

:TermUI_Command_Executor a struct:Module ;
    rdfs:label "TermUI.Command.Executor"@en ;
    rdfs:comment "Executes commands and delivers results"@en ;
    struct:moduleName "TermUI.Command.Executor" .

:TermUI_MessageQueue a struct:Module ;
    rdfs:label "TermUI.MessageQueue"@en ;
    rdfs:comment "Message queuing system"@en ;
    struct:moduleName "TermUI.MessageQueue" ;
    struct:containsFunction :messagequeue_new,
                            :messagequeue_enqueue,
                            :messagequeue_flush .

:messagequeue_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_MessageQueue ;
    struct:functionName "new" ;
    struct:arity 0 .

:messagequeue_enqueue a struct:PublicFunction ;
    struct:belongsTo :TermUI_MessageQueue ;
    struct:functionName "enqueue" ;
    struct:arity 2 .

:messagequeue_flush a struct:PublicFunction ;
    struct:belongsTo :TermUI_MessageQueue ;
    struct:functionName "flush" ;
    struct:arity 1 .

# =============================================================================
# Rendering Pipeline Modules
# =============================================================================

:TermUI_Renderer_Buffer a struct:Module ;
    rdfs:label "TermUI.Renderer.Buffer"@en ;
    rdfs:comment "ETS-based screen buffer with {row, col} keying"@en ;
    struct:moduleName "TermUI.Renderer.Buffer" ;
    struct:containsStruct :Buffer_Struct ;
    struct:containsFunction :buffer_new,
                            :buffer_destroy,
                            :buffer_max_rows,
                            :buffer_max_cols,
                            :buffer_set_cell,
                            :buffer_get_cell,
                            :buffer_clear .

:Buffer_Struct a struct:Struct ;
    rdfs:label "Buffer Struct"@en ;
    struct:hasField :buffer_table,
                    :buffer_rows,
                    :buffer_cols .

:buffer_table a struct:StructField ;
    struct:fieldName "table" .

:buffer_rows a struct:StructField ;
    struct:fieldName "rows" .

:buffer_cols a struct:StructField ;
    struct:fieldName "cols" .

:buffer_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "new" ;
    struct:arity 2 .

:buffer_destroy a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "destroy" ;
    struct:arity 1 .

:buffer_max_rows a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "max_rows" ;
    struct:arity 0 .

:buffer_max_cols a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "max_cols" ;
    struct:arity 0 .

:buffer_set_cell a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "set_cell" ;
    struct:arity 4 .

:buffer_get_cell a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "get_cell" ;
    struct:arity 3 .

:buffer_clear a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Buffer ;
    struct:functionName "clear" ;
    struct:arity 1 .

:Buffer_ETS_Table a otp:ETSTable ;
    rdfs:label "Buffer ETS Table"@en ;
    otp:hasTableType otp:SetTable ;
    otp:hasAccessType otp:PrivateTable .

:TermUI_Renderer_BufferManager a struct:Module ;
    rdfs:label "TermUI.Renderer.BufferManager"@en ;
    rdfs:comment "Manages current and previous buffers for double-buffering and diffing"@en ;
    struct:moduleName "TermUI.Renderer.BufferManager" ;
    struct:implementsBehaviour otp:GenServer ;
    struct:containsFunction :buffermanager_start_link,
                            :buffermanager_clear_current,
                            :buffermanager_get_current_buffer,
                            :buffermanager_get_previous_buffer,
                            :buffermanager_swap_buffers,
                            :buffermanager_resize .

:buffermanager_start_link a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "start_link" ;
    struct:arity 1 .

:buffermanager_clear_current a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "clear_current" ;
    struct:arity 1 .

:buffermanager_get_current_buffer a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "get_current_buffer" ;
    struct:arity 1 .

:buffermanager_get_previous_buffer a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "get_previous_buffer" ;
    struct:arity 1 .

:buffermanager_swap_buffers a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "swap_buffers" ;
    struct:arity 1 .

:buffermanager_resize a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_BufferManager ;
    struct:functionName "resize" ;
    struct:arity 3 .

:TermUI_Renderer_Cell a struct:Module ;
    rdfs:label "TermUI.Renderer.Cell"@en ;
    rdfs:comment "Single terminal cell representation"@en ;
    struct:moduleName "TermUI.Renderer.Cell" ;
    struct:containsStruct :Cell_Struct ;
    struct:containsFunction :cell_new,
                            :cell_empty,
                            :cell_blank,
                            :cell_visible .

:Cell_Struct a struct:Struct ;
    rdfs:label "Cell Struct"@en ;
    struct:hasField :cell_char,
                    :cell_fg,
                    :cell_bg,
                    :cell_attrs .

:cell_char a struct:StructField ;
    struct:fieldName "char" .

:cell_fg a struct:StructField ;
    struct:fieldName "fg" .

:cell_bg a struct:StructField ;
    struct:fieldName "bg" .

:cell_attrs a struct:StructField ;
    struct:fieldName "attrs" .

:cell_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Cell ;
    struct:functionName "new" ;
    struct:arity 2 .

:cell_empty a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Cell ;
    struct:functionName "empty" ;
    struct:arity 0 .

:cell_blank a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Cell ;
    struct:functionName "blank" ;
    struct:arity 0 .

:cell_visible a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Cell ;
    struct:functionName "visible?" ;
    struct:arity 1 .

:TermUI_Renderer_Style a struct:Module ;
    rdfs:label "TermUI.Renderer.Style"@en ;
    rdfs:comment "Color and style management for rendering"@en ;
    struct:moduleName "TermUI.Renderer.Style" ;
    struct:containsStruct :Renderer_Style_Struct ;
    struct:containsFunction :renderer_style_new,
                            :renderer_style_fg,
                            :renderer_style_bg,
                            :renderer_style_bold,
                            :renderer_style_dim,
                            :renderer_style_italic,
                            :renderer_style_underline,
                            :renderer_style_blink,
                            :renderer_style_reverse,
                            :renderer_style_hidden,
                            :renderer_style_strikethrough,
                            :renderer_style_merge,
                            :renderer_style_inherit,
                            :renderer_style_get_variant .

:Renderer_Style_Struct a struct:Struct ;
    rdfs:label "Renderer Style Struct"@en ;
    struct:hasField :renderer_style_fg,
                    :renderer_style_bg,
                    :renderer_style_attrs .

:renderer_style_fg a struct:StructField ;
    struct:fieldName "fg" .

:renderer_style_bg a struct:StructField ;
    struct:fieldName "bg" .

:renderer_style_attrs a struct:StructField ;
    struct:fieldName "attrs" .

:renderer_style_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "new" ;
    struct:arity 0 .

:renderer_style_bold a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "bold" ;
    struct:arity 1 .

:renderer_style_dim a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "dim" ;
    struct:arity 1 .

:renderer_style_italic a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "italic" ;
    struct:arity 1 .

:renderer_style_underline a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "underline" ;
    struct:arity 1 .

:renderer_style_blink a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "blink" ;
    struct:arity 1 .

:renderer_style_reverse a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "reverse" ;
    struct:arity 1 .

:renderer_style_hidden a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "hidden" ;
    struct:arity 1 .

:renderer_style_strikethrough a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "strikethrough" ;
    struct:arity 1 .

:renderer_style_merge a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "merge" ;
    struct:arity 2 .

:renderer_style_inherit a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "inherit" ;
    struct:arity 2 .

:renderer_style_get_variant a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Style ;
    struct:functionName "get_variant" ;
    struct:arity 2 .

:TermUI_Renderer_Diff a struct:Module ;
    rdfs:label "TermUI.Renderer.Diff"@en ;
    rdfs:comment "Computes minimal changes between buffers for efficient rendering"@en ;
    struct:moduleName "TermUI.Renderer.Diff" ;
    struct:containsFunction :diff_diff .

:diff_diff a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_Diff ;
    struct:functionName "diff" ;
    struct:arity 2 .

:TermUI_Renderer_SequenceBuffer a struct:Module ;
    rdfs:label "TermUI.Renderer.SequenceBuffer"@en ;
    rdfs:comment "Buffers ANSI sequences for efficient output"@en ;
    struct:moduleName "TermUI.Renderer.SequenceBuffer" ;
    struct:containsFunction :sequencebuffer_new,
                            :sequencebuffer_append,
                            :sequencebuffer_append_style,
                            :sequencebuffer_reset_style,
                            :sequencebuffer_flush .

:sequencebuffer_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_SequenceBuffer ;
    struct:functionName "new" ;
    struct:arity 0 .

:sequencebuffer_append a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_SequenceBuffer ;
    struct:functionName "append!" ;
    struct:arity 2 .

:sequencebuffer_append_style a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_SequenceBuffer ;
    struct:functionName "append_style" ;
    struct:arity 2 .

:sequencebuffer_reset_style a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_SequenceBuffer ;
    struct:functionName "reset_style" ;
    struct:arity 1 .

:sequencebuffer_flush a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_SequenceBuffer ;
    struct:functionName "flush" ;
    struct:arity 1 .

:TermUI_Renderer_CursorOptimizer a struct:Module ;
    rdfs:label "TermUI.Renderer.CursorOptimizer"@en ;
    rdfs:comment "Optimizes cursor movement commands"@en ;
    struct:moduleName "TermUI.Renderer.CursorOptimizer" .

:TermUI_Renderer_DisplayWidth a struct:Module ;
    rdfs:label "TermUI.Renderer.DisplayWidth"@en ;
    rdfs:comment "Calculates display width of strings including multibyte characters"@en ;
    struct:moduleName "TermUI.Renderer.DisplayWidth" ;
    struct:containsFunction :displaywidth_calculate .

:displaywidth_calculate a struct:PublicFunction ;
    struct:belongsTo :TermUI_Renderer_DisplayWidth ;
    struct:functionName "calculate" ;
    struct:arity 1 .

:TermUI_Renderer_FramerateLimiter a struct:Module ;
    rdfs:label "TermUI.Renderer.FramerateLimiter"@en ;
    rdfs:comment "Limits rendering framerate"@en ;
    struct:moduleName "TermUI.Renderer.FramerateLimiter" .

:TermUI_Runtime_NodeRenderer a struct:Module ;
    rdfs:label "TermUI.Runtime.NodeRenderer"@en ;
    rdfs:comment "Converts render tree to buffer operations"@en ;
    struct:moduleName "TermUI.Runtime.NodeRenderer" ;
    struct:containsFunction :noderenderer_render_to_buffer .

:noderenderer_render_to_buffer a struct:PublicFunction ;
    struct:belongsTo :TermUI_Runtime_NodeRenderer ;
    struct:functionName "render_to_buffer" ;
    struct:arity 2 .

# =============================================================================
# Layout System Modules
# =============================================================================

:TermUI_Layout_Solver a struct:Module ;
    rdfs:label "TermUI.Layout.Solver"@en ;
    rdfs:comment "Constraint solver with Cassowary-inspired multi-pass algorithm"@en ;
    struct:moduleName "TermUI.Layout.Solver" ;
    struct:containsFunction :solver_solve,
                            :solver_solve_to_rects .

:solver_solve a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Solver ;
    struct:functionName "solve" ;
    struct:arity 2 .

:solver_solve_to_rects a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Solver ;
    struct:functionName "solve_to_rects" ;
    struct:arity 2 .

:TermUI_Layout_Constraint a struct:Module ;
    rdfs:label "TermUI.Layout.Constraint"@en ;
    rdfs:comment "Constraint types: Length, Percentage, Ratio, Fill"@en ;
    struct:moduleName "TermUI.Layout.Constraint" ;
    struct:containsFunction :constraint_length,
                            :constraint_percentage,
                            :constraint_ratio,
                            :constraint_fill .

:constraint_length a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Constraint ;
    struct:functionName "length" ;
    struct:arity 1 .

:constraint_percentage a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Constraint ;
    struct:functionName "percentage" ;
    struct:arity 1 .

:constraint_ratio a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Constraint ;
    struct:functionName "ratio" ;
    struct:arity 1 .

:constraint_fill a struct:PublicFunction ;
    struct:belongsTo :TermUI_Layout_Constraint ;
    struct:functionName "fill" ;
    struct:arity 0 .

:TermUI_Layout_Alignment a struct:Module ;
    rdfs:label "TermUI.Layout.Alignment"@en ;
    rdfs:comment "Text alignment: left, center, right"@en ;
    struct:moduleName "TermUI.Layout.Alignment" .

:TermUI_Layout_Cache a struct:Module ;
    rdfs:label "TermUI.Layout.Cache"@en ;
    rdfs:comment "Caches solved layouts for performance"@en ;
    struct:moduleName "TermUI.Layout.Cache" .

# =============================================================================
# Component Render Node
# =============================================================================

:TermUI_Component_RenderNode a struct:Module ;
    rdfs:label "TermUI.Component.RenderNode"@en ;
    rdfs:comment "Render tree node with types: text, box, stack, empty, cells"@en ;
    struct:moduleName "TermUI.Component.RenderNode" ;
    struct:containsStruct :RenderNode_Struct ;
    struct:containsFunction :rendernode_empty,
                            :rendernode_text,
                            :rendernode_box,
                            :rendernode_stack,
                            :rendernode_with_style,
                            :rendernode_with_children .

:RenderNode_Struct a struct:Struct ;
    rdfs:label "RenderNode Struct"@en ;
    struct:hasField :rendernode_type,
                    :rendernode_content,
                    :rendernode_style,
                    :rendernode_children,
                    :rendernode_direction,
                    :rendernode_width,
                    :rendernode_height,
                    :rendernode_cells .

:rendernode_type a struct:StructField ;
    struct:fieldName "type" .

:rendernode_content a struct:StructField ;
    struct:fieldName "content" .

:rendernode_style a struct:StructField ;
    struct:fieldName "style" .

:rendernode_children a struct:StructField ;
    struct:fieldName "children" .

:rendernode_direction a struct:StructField ;
    struct:fieldName "direction" .

:rendernode_width a struct:StructField ;
    struct:fieldName "width" .

:rendernode_height a struct:StructField ;
    struct:fieldName "height" .

:rendernode_cells a struct:StructField ;
    struct:fieldName "cells" .

:rendernode_empty a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "empty" ;
    struct:arity 0 .

:rendernode_text a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "text" ;
    struct:arity 2 .

:rendernode_box a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "box" ;
    struct:arity 2 .

:rendernode_stack a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "stack" ;
    struct:arity 3 .

:rendernode_with_style a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "with_style" ;
    struct:arity 2 .

:rendernode_with_children a struct:PublicFunction ;
    struct:belongsTo :TermUI_Component_RenderNode ;
    struct:functionName "with_children" ;
    struct:arity 2 .

# =============================================================================
# Style Module
# =============================================================================

:TermUI_Style a struct:Module ;
    rdfs:label "TermUI.Style"@en ;
    rdfs:comment "Style builder and manager"@en ;
    struct:moduleName "TermUI.Style" ;
    struct:containsStruct :Style_Struct ;
    struct:containsFunction :style_new,
                            :style_fg,
                            :style_bg,
                            :style_bold,
                            :style_dim,
                            :style_italic,
                            :style_underline,
                            :style_reverse,
                            :style_merge,
                            :style_inherit .

:Style_Struct a struct:Struct ;
    rdfs:label "Style Struct"@en ;
    struct:hasField :style_fg,
                    :style_bg,
                    :style_attrs .

:style_fg a struct:StructField ;
    struct:fieldName "fg" .

:style_bg a struct:StructField ;
    struct:fieldName "bg" .

:style_attrs a struct:StructField ;
    struct:fieldName "attrs" .

:style_new a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "new" ;
    struct:arity 0 .

:style_fg a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "fg" ;
    struct:arity 2 .

:style_bg a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "bg" ;
    struct:arity 2 .

:style_bold a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "bold" ;
    struct:arity 1 .

:style_dim a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "dim" ;
    struct:arity 1 .

:style_italic a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "italic" ;
    struct:arity 1 .

:style_underline a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "underline" ;
    struct:arity 1 .

:style_reverse a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "reverse" ;
    struct:arity 1 .

:style_merge a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "merge" ;
    struct:arity 2 .

:style_inherit a struct:PublicFunction ;
    struct:belongsTo :TermUI_Style ;
    struct:functionName "inherit" ;
    struct:arity 2 .

# =============================================================================
# Widget Modules (Basic Layer)
# =============================================================================

:TermUI_Widget_Block a struct:Module ;
    rdfs:label "TermUI.Widget.Block"@en ;
    rdfs:comment "Container with border and padding"@en ;
    struct:moduleName "TermUI.Widget.Block" ;
    struct:implementsBehaviour :ComponentBehaviour .

:TermUI_Widget_Button a struct:Module ;
    rdfs:label "TermUI.Widget.Button"@en ;
    rdfs:comment "Interactive button widget"@en ;
    struct:moduleName "TermUI.Widget.Button" ;
    struct:implementsBehaviour :StatefulComponentBehaviour .

:TermUI_Widget_Label a struct:Module ;
    rdfs:label "TermUI.Widget.Label"@en ;
    rdfs:comment "Text display widget"@en ;
    struct:moduleName "TermUI.Widget.Label" ;
    struct:implementsBehaviour :ComponentBehaviour .

:TermUI_Widget_List a struct:Module ;
    rdfs:label "TermUI.Widget.List"@en ;
    rdfs:comment "List widget"@en ;
    struct:moduleName "TermUI.Widget.List" .

:TermUI_Widget_PickList a struct:Module ;
    rdfs:label "TermUI.Widget.PickList"@en ;
    rdfs:comment "Dropdown-style selection widget"@en ;
    struct:moduleName "TermUI.Widget.PickList" .

:TermUI_Widget_Progress a struct:Module ;
    rdfs:label "TermUI.Widget.Progress"@en ;
    rdfs:comment "Progress bar widget"@en ;
    struct:moduleName "TermUI.Widget.Progress" .

:TermUI_Widget_TextInput a struct:Module ;
    rdfs:label "TermUI.Widget.TextInput"@en ;
    rdfs:comment "Text input field widget"@en ;
    struct:moduleName "TermUI.Widget.TextInput" ;
    struct:implementsBehaviour :StatefulComponentBehaviour .

# =============================================================================
# Widget Modules (Advanced Layer) - Selected
# =============================================================================

:TermUI_Widgets_AlertDialog a struct:Module ;
    rdfs:label "TermUI.Widgets.AlertDialog"@en ;
    rdfs:comment "Modal alert dialog"@en ;
    struct:moduleName "TermUI.Widgets.AlertDialog" .

:TermUI_Widgets_BarChart a struct:Module ;
    rdfs:label "TermUI.Widgets.BarChart"@en ;
    rdfs:comment "Bar chart visualization"@en ;
    struct:moduleName "TermUI.Widgets.BarChart" .

:TermUI_Widgets_Canvas a struct:Module ;
    rdfs:label "TermUI.Widgets.Canvas"@en ;
    rdfs:comment "Pixel-level drawing surface"@en ;
    struct:moduleName "TermUI.Widgets.Canvas" .

:TermUI_Widgets_ClusterDashboard a struct:Module ;
    rdfs:label "TermUI.Widgets.ClusterDashboard"@en ;
    rdfs:comment "BEAM cluster monitoring dashboard"@en ;
    struct:moduleName "TermUI.Widgets.ClusterDashboard" .

:TermUI_Widgets_CommandPalette a struct:Module ;
    rdfs:label "TermUI.Widgets.CommandPalette"@en ;
    rdfs:comment "Command search and execution UI"@en ;
    struct:moduleName "TermUI.Widgets.CommandPalette" .

:TermUI_Widgets_Dialog a struct:Module ;
    rdfs:label "TermUI.Widgets.Dialog"@en ;
    rdfs:comment "Modal dialog"@en ;
    struct:moduleName "TermUI.Widgets.Dialog" .

:TermUI_Widgets_LineChart a struct:Module ;
    rdfs:label "TermUI.Widgets.LineChart"@en ;
    rdfs:comment "Line chart visualization"@en ;
    struct:moduleName "TermUI.Widgets.LineChart" .

:TermUI_Widgets_LogViewer a struct:Module ;
    rdfs:label "TermUI.Widgets.LogViewer"@en ;
    rdfs:comment "Real-time log display"@en ;
    struct:moduleName "TermUI.Widgets.LogViewer" .

:TermUI_Widgets_Menu a struct:Module ;
    rdfs:label "TermUI.Widgets.Menu"@en ;
    rdfs:comment "Menu/navigation widget"@en ;
    struct:moduleName "TermUI.Widgets.Menu" .

:TermUI_Widgets_ProcessMonitor a struct:Module ;
    rdfs:label "TermUI.Widgets.ProcessMonitor"@en ;
    rdfs:comment "BEAM process monitoring widget"@en ;
    struct:moduleName "TermUI.Widgets.ProcessMonitor" .

:TermUI_Widgets_SplitPane a struct:Module ;
    rdfs:label "TermUI.Widgets.SplitPane"@en ;
    rdfs:comment "Resizable split layout"@en ;
    struct:moduleName "TermUI.Widgets.SplitPane" .

:TermUI_Widgets_SupervisionTreeViewer a struct:Module ;
    rdfs:label "TermUI.Widgets.SupervisionTreeViewer"@en ;
    rdfs:comment "Supervision tree visualization"@en ;
    struct:moduleName "TermUI.Widgets.SupervisionTreeViewer" .

:TermUI_Widgets_Table a struct:Module ;
    rdfs:label "TermUI.Widgets.Table"@en ;
    rdfs:comment "Data table with columns"@en ;
    struct:moduleName "TermUI.Widgets.Table" .

:TermUI_Widgets_Tabs a struct:Module ;
    rdfs:label "TermUI.Widgets.Tabs"@en ;
    rdfs:comment "Tabbed interface"@en ;
    struct:moduleName "TermUI.Widgets.Tabs" .

:TermUI_Widgets_Toast a struct:Module ;
    rdfs:label "TermUI.Widgets.Toast"@en ;
    rdfs:comment "Notification toast"@en ;
    struct:moduleName "TermUI.Widgets.Toast" .

:TermUI_Widgets_TreeView a struct:Module ;
    rdfs:label "TermUI.Widgets.TreeView"@en ;
    rdfs:comment "Hierarchical tree view"@en ;
    struct:moduleName "TermUI.Widgets.TreeView" .

:TermUI_Widgets_Viewport a struct:Module ;
    rdfs:label "TermUI.Widgets.Viewport"@en ;
    rdfs:comment "Scrollable viewport"@en ;
    struct:moduleName "TermUI.Widgets.Viewport" .

# =============================================================================
# Focus & Input Modules
# =============================================================================

:TermUI_Focus a struct:Module ;
    rdfs:label "TermUI.Focus"@en ;
    rdfs:comment "Focus management"@en ;
    struct:moduleName "TermUI.Focus" .

:TermUI_FocusManager a struct:Module ;
    rdfs:label "TermUI.FocusManager"@en ;
    rdfs:comment "Manages focused component and focus transitions"@en ;
    struct:moduleName "TermUI.FocusManager" .

:TermUI_Focus_Indicator a struct:Module ;
    rdfs:label "TermUI.Focus.Indicator"@en ;
    rdfs:comment "Visual indicator for focused component"@en ;
    struct:moduleName "TermUI.Focus.Indicator" .

:TermUI_Focus_Traversal a struct:Module ;
    rdfs:label "TermUI.Focus.Traversal"@en ;
    rdfs:comment "Tab order and focus traversal logic"@en ;
    struct:moduleName "TermUI.Focus.Traversal" .

:TermUI_Parser a struct:Module ;
    rdfs:label "TermUI.Parser"@en ;
    rdfs:comment "Parses terminal escape sequences and raw input"@en ;
    struct:moduleName "TermUI.Parser" .

:TermUI_Parser_Events a struct:Module ;
    rdfs:label "TermUI.Parser.Events"@en ;
    rdfs:comment "Converts parsed sequences into Event structs"@en ;
    struct:moduleName "TermUI.Parser.Events" .

:TermUI_Terminal_InputReader a struct:Module ;
    rdfs:label "TermUI.Terminal.InputReader"@en ;
    rdfs:comment "Reads raw terminal input"@en ;
    struct:moduleName "TermUI.Terminal.InputReader" .

:TermUI_Terminal_EscapeParser a struct:Module ;
    rdfs:label "TermUI.Terminal.EscapeParser"@en ;
    rdfs:comment "Parses ANSI escape sequences"@en ;
    struct:moduleName "TermUI.Terminal.EscapeParser" .

# =============================================================================
# Mouse Modules
# =============================================================================

:TermUI_Mouse a struct:Module ;
    rdfs:label "TermUI.Mouse"@en ;
    rdfs:comment "Mouse event handling"@en ;
    struct:moduleName "TermUI.Mouse" .

:TermUI_Mouse_Router a struct:Module ;
    rdfs:label "TermUI.Mouse.Router"@en ;
    rdfs:comment "Routes mouse events to components at cursor position"@en ;
    struct:moduleName "TermUI.Mouse.Router" .

:TermUI_Mouse_Tracker a struct:Module ;
    rdfs:label "TermUI.Mouse.Tracker"@en ;
    rdfs:comment "Tracks mouse position and state"@en ;
    struct:moduleName "TermUI.Mouse.Tracker" .

# =============================================================================
# Platform & Backend Modules
# =============================================================================

:TermUI_Platform a struct:Module ;
    rdfs:label "TermUI.Platform"@en ;
    rdfs:comment "Platform detection and abstraction"@en ;
    struct:moduleName "TermUI.Platform" .

:TermUI_Platform_Unix a struct:Module ;
    rdfs:label "TermUI.Platform.Unix"@en ;
    struct:moduleName "TermUI.Platform.Unix" .

:TermUI_Platform_Windows a struct:Module ;
    rdfs:label "TermUI.Platform.Windows"@en ;
    struct:moduleName "TermUI.Platform.Windows" .

:TermUI_Backend a struct:Module ;
    rdfs:label "TermUI.Backend"@en ;
    rdfs:comment "Terminal backend abstraction"@en ;
    struct:moduleName "TermUI.Backend" .

:TermUI_ANSI a struct:Module ;
    rdfs:label "TermUI.ANSI"@en ;
    rdfs:comment "ANSI escape sequence generation"@en ;
    struct:moduleName "TermUI.ANSI" .

:TermUI_Capabilities a struct:Module ;
    rdfs:label "TermUI.Capabilities"@en ;
    rdfs:comment "Terminal capability detection"@en ;
    struct:moduleName "TermUI.Capabilities" .

# =============================================================================
# State Structs
# =============================================================================

:TermUI_Terminal_State a struct:Module ;
    rdfs:label "TermUI.Terminal.State"@en ;
    struct:moduleName "TermUI.Terminal.State" ;
    struct:containsStruct :Terminal_State_Struct .

:Terminal_State_Struct a struct:Struct ;
    rdfs:label "Terminal State Struct"@en ;
    struct:hasField :terminal_state_raw_mode_active,
                    :terminal_state_alternate_screen_active,
                    :terminal_state_cursor_visible,
                    :terminal_state_mouse_tracking,
                    :terminal_state_resize_callbacks .

:terminal_state_raw_mode_active a struct:StructField ;
    struct:fieldName "raw_mode_active" .

:terminal_state_alternate_screen_active a struct:StructField ;
    struct:fieldName "alternate_screen_active" .

:terminal_state_cursor_visible a struct:StructField ;
    struct:fieldName "cursor_visible" .

:terminal_state_mouse_tracking a struct:StructField ;
    struct:fieldName "mouse_tracking" .

:terminal_state_resize_callbacks a struct:StructField ;
    struct:fieldName "resize_callbacks" .

:TermUI_Runtime_State a struct:Module ;
    rdfs:label "TermUI.Runtime.State"@en ;
    struct:moduleName "TermUI.Runtime.State" ;
    struct:containsStruct :Runtime_State_Struct .

:Runtime_State_Struct a struct:Struct ;
    rdfs:label "Runtime State Struct"@en ;
    struct:hasField :runtime_state_root_module,
                    :runtime_state_root_state,
                    :runtime_state_message_queue,
                    :runtime_state_dirty,
                    :runtime_state_components,
                    :runtime_state_pending_commands .

:runtime_state_root_module a struct:StructField ;
    struct:fieldName "root_module" .

:runtime_state_root_state a struct:StructField ;
    struct:fieldName "root_state" .

:runtime_state_message_queue a struct:StructField ;
    struct:fieldName "message_queue" .

:runtime_state_dirty a struct:StructField ;
    struct:fieldName "dirty" .

:runtime_state_components a struct:StructField ;
    struct:fieldName "components" .

:runtime_state_pending_commands a struct:StructField ;
    struct:fieldName "pending_commands" .

# =============================================================================
# Development Tools
# =============================================================================

:TermUI_Dev_DevMode a struct:Module ;
    rdfs:label "TermUI.Dev.DevMode"@en ;
    rdfs:comment "Development mode features"@en ;
    struct:moduleName "TermUI.Dev.DevMode" .

:TermUI_Dev_HotReload a struct:Module ;
    rdfs:label "TermUI.Dev.HotReload"@en ;
    rdfs:comment "Hot reload on file changes"@en ;
    struct:moduleName "TermUI.Dev.HotReload" .

:TermUI_Dev_PerfMonitor a struct:Module ;
    rdfs:label "TermUI.Dev.PerfMonitor"@en ;
    rdfs:comment "Performance monitoring"@en ;
    struct:moduleName "TermUI.Dev.PerfMonitor" .

:TermUI_Dev_StateInspector a struct:Module ;
    rdfs:label "TermUI.Dev.StateInspector"@en ;
    rdfs:comment "Inspect component state during execution"@en ;
    struct:moduleName "TermUI.Dev.StateInspector" .

:TermUI_Dev_UIInspector a struct:Module ;
    rdfs:label "TermUI.Dev.UIInspector"@en ;
    rdfs:comment "Inspect and debug UI hierarchy"@en ;
    struct:moduleName "TermUI.Dev.UIInspector" .

# =============================================================================
# Testing Modules
# =============================================================================

:TermUI_Test_Assertions a struct:Module ;
    rdfs:label "TermUI.Test.Assertions"@en ;
    rdfs:comment "Testing assertion helpers"@en ;
    struct:moduleName "TermUI.Test.Assertions" .

:TermUI_Test_ComponentHarness a struct:Module ;
    rdfs:label "TermUI.Test.ComponentHarness"@en ;
    rdfs:comment "Test component in isolation"@en ;
    struct:moduleName "TermUI.Test.ComponentHarness" .

:TermUI_Test_EventSimulator a struct:Module ;
    rdfs:label "TermUI.Test.EventSimulator"@en ;
    rdfs:comment "Simulate terminal events"@en ;
    struct:moduleName "TermUI.Test.EventSimulator" .

:TermUI_Test_TestRenderer a struct:Module ;
    rdfs:label "TermUI.Test.TestRenderer"@en ;
    rdfs:comment "Render to string for testing"@en ;
    struct:moduleName "TermUI.Test.TestRenderer" .

# =============================================================================
# OTP GenServer Callbacks (Standard References)
# =============================================================================

:genserver_init a otp:InitCallback ;
    struct:functionName "init" ;
    struct:arity 1 .

:genserver_handle_call a otp:HandleCallCallback ;
    struct:functionName "handle_call" ;
    struct:arity 3 .

:genserver_handle_cast a otp:HandleCastCallback ;
    struct:functionName "handle_cast" ;
    struct:arity 2 .

:genserver_handle_info a otp:HandleInfoCallback ;
    struct:functionName "handle_info" ;
    struct:arity 2 .

:genserver_terminate a otp:TerminateCallback ;
    struct:functionName "terminate" ;
    struct:arity 2 .

# =============================================================================
# Module Dependencies (Key Relationships)
# =============================================================================

:TermUI struct:usesModule :TermUI_Terminal, :TermUI_Runtime .

:TermUI_Runtime struct:usesModule :TermUI_Elm,
                                   :TermUI_Event,
                                   :TermUI_Message,
                                   :TermUI_Command,
                                   :TermUI_ComponentServer,
                                   :TermUI_ComponentRegistry,
                                   :TermUI_ComponentSupervisor,
                                   :TermUI_Renderer_BufferManager,
                                   :TermUI_Terminal_InputReader .

:TermUI_Renderer_BufferManager struct:usesModule :TermUI_Renderer_Buffer,
                                                  :TermUI_Renderer_Diff .

:TermUI_ComponentServer struct:usesModule :TermUI_Component,
                                           :TermUI_StatefulComponent .

:TermUI_Widget_Button struct:usesModule :TermUI_StatefulComponent,
                                         :TermUI_Style .

:TermUI_Widget_Label struct:usesModule :TermUI_Component .

:TermUI_Parser struct:usesModule :TermUI_Event,
                                  :TermUI_Terminal_EscapeParser .
